<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
      <meta charset="utf-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <title>Sufficiently Random/Moving_to_Clay</title>
      <!-- Latest compiled and minified CSS -->

      <link rel="stylesheet" type="text/css" href="../css/stylesheet.css" media="screen" />
      <link rel="stylesheet" type="text/css" href="../css/pygment_trac.css" media="screen" />
      <link rel="stylesheet" type="text/css" href="../css/pandoc.css" media="screen" />

      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>

    <body>

      <header>
        <div class="container">
          <h1>~/mvc/<a href="../">sufficiently_random</a>/Moving_to_Clay</h1>
        </div>
        <div><h2></h2></div>
      </header>

      <div class="container">

          <div class="info">
    Posted on August  3, 2014
    
</div>
<h2>Moving_to_Clay</h2>
<p>I recently discovered <a href="http://fvisser.nl/clay/">Clay</a>, a CSS preprocessor EDSL in Haskell. Infact this site’s CSS is now all generated using Clay! The use case as the site mentions is similar to LESS and Sass, but with the added benefit of true <em>#typeSafety</em>.</p>
<h1 id="usage">Usage</h1>
<p>The websites tutorial is very helpful, and more or less get you up and running in no time. One particularly nice feature is being able to explore the API using ghci. From there it becauses a matter of matching up types to discover all of the possible inputs for a function.</p>
<p>Here’s a snippet from this site’s source:</p>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="co">-- stylesheet.hs</span>
myBody <span class="fu">=</span> body <span class="fu">?</span>
         <span class="kw">do</span> sym margin <span class="dv">0</span>
            sym padding <span class="dv">0</span>
            background (url <span class="st">&quot;../images/bkg.png&quot;</span>)
            color <span class="st">&quot;#eaeaea&quot;</span>
            fontSize (px <span class="dv">16</span>)
            lineHeight (pct <span class="dv">150</span>)
            myFontFamily</code></pre>
<h1 id="caveats">Caveats</h1>
<p>The EDSL is <em>almost</em> complete, but even I a relative CSS beginner was able to discover a few holes.</p>
<p>One feature I found missing was the columns-count and column-gap. That said, its understandable that it might not be in the library (being somewhat browser specific) and I may even use it as a chance to get a pull request in.</p>
<p>Clay, however does give you the ability to by pass its type safety (using (-:)) so I was ultimately able to work around those limitations.</p>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="co">-- From resume.hs</span>
listCols <span class="fu">=</span> <span class="st">&quot;.col_lis&quot;</span> <span class="fu">**</span> ul <span class="fu">?</span> <span class="kw">do</span>
             <span class="st">&quot;-moz-column-count&quot;</span> <span class="fu">-:</span> <span class="st">&quot;4&quot;</span>
             <span class="st">&quot;-moz-column-gap&quot;</span> <span class="fu">-:</span> <span class="st">&quot;5px&quot;</span>
             <span class="st">&quot;-webkit-column-count&quot;</span> <span class="fu">-:</span> <span class="st">&quot;4&quot;</span>
             <span class="st">&quot;-webkit-column-gap&quot;</span> <span class="fu">-:</span> <span class="st">&quot;5px&quot;</span></code></pre>
<h1 id="conclusion">Conclusion</h1>
<p>So far I’ve used Clay for this website, my resume, and my upcoming mozilla intern presentation (along with the infinitely versatile pandoc). I highly recommend playing with it if you’ve considered using Sass or LESS and know even an inkling of Haskell.</p>

      </div>

      <div class="footer">
          <div>
            Contact: <a href="https://twitter.com/mvcisback">@mvcisback</a>
            Code: <a href="https://github.com/mvcisback">Github</a>
          </div>
          <div>
            this site = 
            <a href="http://jaspervdj.be/hakyll">Hakyll</a> + 
            <a href="http://sundaykofax.github.io/baby-legs/">Theme</a> +
            <a href="http://pages.github.com/">Github Pages</a> +
            <a href="https://github.com/mvcisback/mvcisback.github.com">Source</a> +
            too much time
          </div>
      </div>
    </body>
</html>
